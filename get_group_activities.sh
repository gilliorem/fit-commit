#!/usr/bin/env bash
set -euo pipefail

STRAVA_CLIENT_ID=179303
STRAVA_CLIENT_SECRET=1ccf5aba81fdbebbc568965338198752ab7216f2
STRAVA_REFRESH_TOKEN=44f9698d9f0e8720646a6bc7d73bf5485264fb16
STRAVA_ACCESS_TOKEN=7877d6239f42a310f877f5098e8c5f530c151156
: "${STRAVA_ACCESS_TOKEN:?Set STRAVA_ACCESS_TOKEN with a valid Strava API access token}"
STRAVA_CLUB_ID="${STRAVA_CLUB_ID:-1764332}"
STRAVA_PER_PAGE="${STRAVA_PER_PAGE:-170}"
STRAVA_PAGE="${STRAVA_PAGE:-1}"

curl -sS -X GET "https://www.strava.com/api/v3/clubs/${STRAVA_CLUB_ID}/activities?per_page=${STRAVA_PER_PAGE}&page=${STRAVA_PAGE}" \
  -H "Authorization: Bearer ${STRAVA_ACCESS_TOKEN}" \
  -H "accept: application/json"
